@page "/query/{connectionName}/{table?}/{index?}"
@using System.Web
@inject LocationQueryRunner Runner
@inject NavigationManager NavigationManager

<PageTitle>@Result.RootName</PageTitle>

@*@section NavItems
    {
    <li class="nav-item"><a class="nav-link text-muted" href="@Model.RootUrl">@Model.RootName</a></li>
}
*@
<div class="row small text-muted d-xl-none">
    <div class="col-lg-12">
        <p><i class="fa fa-exclamation-triangle"></i> Note that there are some explanatory texts on larger screens.</p>
    </div>
</div>

<div class="row">
    <div class="entity-context col-12 col-xl-10">
        @((MarkupString)Result.Html)

        @*<pre class="debug-xml-original">
    @Model.Html
    </pre>*@

    </div>

    <div class="d-none d-xl-block col-xl-2 small text-muted">
@*        <partial name="_HelpText" model="@Model.QueryType" />
*@    </div>
</div>


@code {

    [Parameter]
    public String ConnectionName { get; set; }

    [Parameter]
    public String Table { get; set; }

    [Parameter]
    public String Index { get; set; }

    public LocationQueryResult Result { get; set; }


    protected override void OnParametersSet()
    {
        base.OnParametersSet();

        Result = Runner.Query(NavigationManager.Uri);
    }
}
